<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>smoking-halim documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">smoking-halim documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >GroupChatsService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/modules/group-chats/group-chats.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addParticipant" >addParticipant</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addParticipantsToGroupChat" >addParticipantsToGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#connectHealthSpecialistToGroupChat" >connectHealthSpecialistToGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createGroupChat" >createGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteGroupChat" >deleteGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteParticipant" >deleteParticipant</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#diconnectHealthSpecialistFromGroupChat" >diconnectHealthSpecialistFromGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchAuthedChatData" >fetchAuthedChatData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchGroupChat" >fetchGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchGroupChatMessages" >fetchGroupChatMessages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchGroupChatMessagesOffsetPagination" >fetchGroupChatMessagesOffsetPagination</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchGroupChatParticipants" >fetchGroupChatParticipants</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchGroupChats" >fetchGroupChats</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchMyGroupChatMessagesOffsetPagination" >fetchMyGroupChatMessagesOffsetPagination</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchPatientGroupChat" >fetchPatientGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchPatientGroupChatNameAndId" >fetchPatientGroupChatNameAndId</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#groupChatHealthSpecialistUserId" >groupChatHealthSpecialistUserId</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isGroupChatByIdExists" >isGroupChatByIdExists</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isGroupChatHasHealthSpecialist" >isGroupChatHasHealthSpecialist</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isGroupChatHasNotHealthSpecialist" >isGroupChatHasNotHealthSpecialist</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isGroupChatNameNotExists" >isGroupChatNameNotExists</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isGroupChatsExists" >isGroupChatsExists</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isHealthSpecialistInGroup" >isHealthSpecialistInGroup</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isParticipantExists" >isParticipantExists</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isParticipantNotExists" >isParticipantNotExists</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isParticipantsNotExists" >isParticipantsNotExists</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#messageViewedGroupChat" >messageViewedGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#quitGroupChat" >quitGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#searchMessage" >searchMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#searchMessageMyGroupChat" >searchMessageMyGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#switchUserGroup" >switchUserGroup</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateGroupChat" >updateGroupChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#userGroupChatId" >userGroupChatId</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(prismaService: <a href="../injectables/PrismaService.html" target="_self">PrismaService</a>, patientService: <a href="../injectables/PatientService.html" target="_self">PatientService</a>, healthSpecialistService: <a href="../injectables/HealthSpecialistService.html" target="_self">HealthSpecialistService</a>, usersService: <a href="../injectables/UsersService.html" target="_self">UsersService</a>, environmentService: <a href="../injectables/EnvironmentService.html" target="_self">EnvironmentService</a>, redisService: <a href="../injectables/RedisService.html" target="_self">RedisService</a>, commonService: <a href="../injectables/CommonService.html" target="_self">CommonService</a>, privateChatsService: <a href="../injectables/PrivateChatsService.html" target="_self">PrivateChatsService</a>, availabilitiesService: <a href="../injectables/AvailabilitiesService.html" target="_self">AvailabilitiesService</a>, blockedUsersService: <a href="../injectables/BlockedUsersService.html" target="_self">BlockedUsersService</a>, healthFacilityService: <a href="../injectables/HealthFacilityService.html" target="_self">HealthFacilityService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">src/modules/group-chats/group-chats.service.ts:44</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>prismaService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PrismaService.html" target="_self" >PrismaService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>patientService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PatientService.html" target="_self" >PatientService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>healthSpecialistService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/HealthSpecialistService.html" target="_self" >HealthSpecialistService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>usersService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UsersService.html" target="_self" >UsersService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>environmentService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/EnvironmentService.html" target="_self" >EnvironmentService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>redisService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/RedisService.html" target="_self" >RedisService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>commonService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/CommonService.html" target="_self" >CommonService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>privateChatsService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PrivateChatsService.html" target="_self" >PrivateChatsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>availabilitiesService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AvailabilitiesService.html" target="_self" >AvailabilitiesService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>blockedUsersService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/BlockedUsersService.html" target="_self" >BlockedUsersService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>healthFacilityService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/HealthFacilityService.html" target="_self" >HealthFacilityService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addParticipant"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>addParticipant</b></span>
                        <a href="#addParticipant"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addParticipant(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, participantId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1118"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1118</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>participantId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;GroupChatResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addParticipantsToGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>addParticipantsToGroupChat</b></span>
                        <a href="#addParticipantsToGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addParticipantsToGroupChat(updateGroupChatParticipantsDto: <a href="../classes/UpdateGroupChatParticipantsDto.html" target="_self">UpdateGroupChatParticipantsDto</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="866"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:866</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>updateGroupChatParticipantsDto</td>
                                            <td>
                                                            <code><a href="../classes/UpdateGroupChatParticipantsDto.html" target="_self" >UpdateGroupChatParticipantsDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;GroupChatResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connectHealthSpecialistToGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>connectHealthSpecialistToGroupChat</b></span>
                        <a href="#connectHealthSpecialistToGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>connectHealthSpecialistToGroupChat(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, healthSpecialistId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1076"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1076</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>healthSpecialistId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;GroupChatResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>createGroupChat</b></span>
                        <a href="#createGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createGroupChat(createGroupChatDto: <a href="../classes/CreateGroupChatDto.html" target="_self">CreateGroupChatDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="162"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:162</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>createGroupChatDto</td>
                                            <td>
                                                            <code><a href="../classes/CreateGroupChatDto.html" target="_self" >CreateGroupChatDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;NameAndIdResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>deleteGroupChat</b></span>
                        <a href="#deleteGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteGroupChat(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="265"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:265</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;GroupChatResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteParticipant"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>deleteParticipant</b></span>
                        <a href="#deleteParticipant"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteParticipant(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, participantId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1136"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1136</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>participantId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;GroupChatResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="diconnectHealthSpecialistFromGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>diconnectHealthSpecialistFromGroupChat</b></span>
                        <a href="#diconnectHealthSpecialistFromGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>diconnectHealthSpecialistFromGroupChat(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, healthSpecialistId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1097"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1097</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>healthSpecialistId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;GroupChatResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchAuthedChatData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fetchAuthedChatData</b></span>
                        <a href="#fetchAuthedChatData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchAuthedChatData(user: <a href="../classes/UserPlayloadResponse.html" target="_self">UserPlayloadResponse</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="293"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:293</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                            <code><a href="../classes/UserPlayloadResponse.html" target="_self" >UserPlayloadResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;FetchAuthedPatientChatDataResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fetchGroupChat</b></span>
                        <a href="#fetchGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchGroupChat(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="186"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:186</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;GroupChatByIdResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchGroupChatMessages"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fetchGroupChatMessages</b></span>
                        <a href="#fetchGroupChatMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchGroupChatMessages(user: <a href="../classes/UserPlayloadResponse.html" target="_self">UserPlayloadResponse</a>, searchWithCursorPaginationDto: <a href="../classes/SearchWithCursorPaginationDto.html" target="_self">SearchWithCursorPaginationDto</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="622"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:622</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                            <code><a href="../classes/UserPlayloadResponse.html" target="_self" >UserPlayloadResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>searchWithCursorPaginationDto</td>
                                            <td>
                                                            <code><a href="../classes/SearchWithCursorPaginationDto.html" target="_self" >SearchWithCursorPaginationDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/PaginationCursorMessages.html" target="_self" >Promise&lt;PaginationCursorMessages&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchGroupChatMessagesOffsetPagination"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fetchGroupChatMessagesOffsetPagination</b></span>
                        <a href="#fetchGroupChatMessagesOffsetPagination"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchGroupChatMessagesOffsetPagination(searchWithPaginationDto: <a href="../classes/SearchWithPaginationDto.html" target="_self">SearchWithPaginationDto</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="991"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:991</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>searchWithPaginationDto</td>
                                            <td>
                                                            <code><a href="../classes/SearchWithPaginationDto.html" target="_self" >SearchWithPaginationDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;PaginationPatientsMessages&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchGroupChatParticipants"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fetchGroupChatParticipants</b></span>
                        <a href="#fetchGroupChatParticipants"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchGroupChatParticipants(searchWithCursorPaginationDto: <a href="../classes/SearchWithCursorPaginationDto.html" target="_self">SearchWithCursorPaginationDto</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="579"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:579</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>searchWithCursorPaginationDto</td>
                                            <td>
                                                            <code><a href="../classes/SearchWithCursorPaginationDto.html" target="_self" >SearchWithCursorPaginationDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;PaginationCursorPatientNameOnlyResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchGroupChats"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fetchGroupChats</b></span>
                        <a href="#fetchGroupChats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchGroupChats(user: <a href="../classes/UserPlayloadResponse.html" target="_self">UserPlayloadResponse</a>, searchWithPaginationDto: <a href="../classes/SearchWithPaginationDto.html" target="_self">SearchWithPaginationDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="60"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:60</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                            <code><a href="../classes/UserPlayloadResponse.html" target="_self" >UserPlayloadResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>searchWithPaginationDto</td>
                                            <td>
                                                            <code><a href="../classes/SearchWithPaginationDto.html" target="_self" >SearchWithPaginationDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;PaginationShowFlatGroupChatResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchMyGroupChatMessagesOffsetPagination"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fetchMyGroupChatMessagesOffsetPagination</b></span>
                        <a href="#fetchMyGroupChatMessagesOffsetPagination"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchMyGroupChatMessagesOffsetPagination(user: <a href="../classes/UserPlayloadResponse.html" target="_self">UserPlayloadResponse</a>, searchWithPaginationDto: <a href="../classes/SearchWithPaginationDto.html" target="_self">SearchWithPaginationDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="891"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:891</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                            <code><a href="../classes/UserPlayloadResponse.html" target="_self" >UserPlayloadResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>searchWithPaginationDto</td>
                                            <td>
                                                            <code><a href="../classes/SearchWithPaginationDto.html" target="_self" >SearchWithPaginationDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;PaginationPatientsMessages&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchPatientGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fetchPatientGroupChat</b></span>
                        <a href="#fetchPatientGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchPatientGroupChat(user: <a href="../classes/UserPlayloadResponse.html" target="_self">UserPlayloadResponse</a>, searchWithCursorPaginationDto: <a href="../classes/SearchWithCursorPaginationDto.html" target="_self">SearchWithCursorPaginationDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="327"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:327</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                            <code><a href="../classes/UserPlayloadResponse.html" target="_self" >UserPlayloadResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>searchWithCursorPaginationDto</td>
                                            <td>
                                                            <code><a href="../classes/SearchWithCursorPaginationDto.html" target="_self" >SearchWithCursorPaginationDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/PaginationCursorPatientsMessages.html" target="_self" >Promise&lt;PaginationCursorPatientsMessages&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchPatientGroupChatNameAndId"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fetchPatientGroupChatNameAndId</b></span>
                        <a href="#fetchPatientGroupChatNameAndId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchPatientGroupChatNameAndId(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1387"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1387</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;NameAndIdResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="groupChatHealthSpecialistUserId"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>groupChatHealthSpecialistUserId</b></span>
                        <a href="#groupChatHealthSpecialistUserId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>groupChatHealthSpecialistUserId(groupChatId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1362"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1362</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupChatId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;number&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isGroupChatByIdExists"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isGroupChatByIdExists</b></span>
                        <a href="#isGroupChatByIdExists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isGroupChatByIdExists(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1189"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1189</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;GroupChat&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isGroupChatHasHealthSpecialist"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isGroupChatHasHealthSpecialist</b></span>
                        <a href="#isGroupChatHasHealthSpecialist"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isGroupChatHasHealthSpecialist(groupChatId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, healthSpecialistId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1309"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1309</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupChatId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>healthSpecialistId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isGroupChatHasNotHealthSpecialist"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isGroupChatHasNotHealthSpecialist</b></span>
                        <a href="#isGroupChatHasNotHealthSpecialist"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isGroupChatHasNotHealthSpecialist(groupChatId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1303"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1303</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupChatId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isGroupChatNameNotExists"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isGroupChatNameNotExists</b></span>
                        <a href="#isGroupChatNameNotExists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isGroupChatNameNotExists(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, groupChatId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, healthSpecialistId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1198"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1198</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>groupChatId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>healthSpecialistId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isGroupChatsExists"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isGroupChatsExists</b></span>
                        <a href="#isGroupChatsExists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isGroupChatsExists(ids: <a href="../classes/IdDto.html" target="_self">IdDto[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1217"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1217</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>ids</td>
                                            <td>
                                                            <code><a href="../classes/IdDto.html" target="_self" >IdDto[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isHealthSpecialistInGroup"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isHealthSpecialistInGroup</b></span>
                        <a href="#isHealthSpecialistInGroup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isHealthSpecialistInGroup(groupChatId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, healthSpecialistId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1267"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1267</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupChatId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>healthSpecialistId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isParticipantExists"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isParticipantExists</b></span>
                        <a href="#isParticipantExists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isParticipantExists(groupChatId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, participantId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1231"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1231</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupChatId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>participantId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isParticipantNotExists"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isParticipantNotExists</b></span>
                        <a href="#isParticipantNotExists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isParticipantNotExists(groupChatId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, participantId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1249"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1249</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupChatId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>participantId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isParticipantsNotExists"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isParticipantsNotExists</b></span>
                        <a href="#isParticipantsNotExists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isParticipantsNotExists(groupChatId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, participantIds: <a href="../classes/IdDto.html" target="_self">IdDto[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1280"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1280</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupChatId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>participantIds</td>
                                            <td>
                                                            <code><a href="../classes/IdDto.html" target="_self" >IdDto[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messageViewedGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>messageViewedGroupChat</b></span>
                        <a href="#messageViewedGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>messageViewedGroupChat(groupChatId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, participantId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1326"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1326</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupChatId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>participantId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="quitGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>quitGroupChat</b></span>
                        <a href="#quitGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>quitGroupChat(user: <a href="../classes/UserPlayloadResponse.html" target="_self">UserPlayloadResponse</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="280"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:280</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                            <code><a href="../classes/UserPlayloadResponse.html" target="_self" >UserPlayloadResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="searchMessage"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>searchMessage</b></span>
                        <a href="#searchMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>searchMessage(user: <a href="../classes/UserPlayloadResponse.html" target="_self">UserPlayloadResponse</a>, searchWithPaginationDto: <a href="../classes/SearchWithCursorPaginationDto.html" target="_self">SearchWithCursorPaginationDto</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1403"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1403</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                            <code><a href="../classes/UserPlayloadResponse.html" target="_self" >UserPlayloadResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>searchWithPaginationDto</td>
                                            <td>
                                                            <code><a href="../classes/SearchWithCursorPaginationDto.html" target="_self" >SearchWithCursorPaginationDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;PaginationCursorMessagesSearchResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="searchMessageMyGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>searchMessageMyGroupChat</b></span>
                        <a href="#searchMessageMyGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>searchMessageMyGroupChat(user: <a href="../classes/UserPlayloadResponse.html" target="_self">UserPlayloadResponse</a>, searchWithPaginationDto: <a href="../classes/SearchRequiredWithCursorPaginationDto.html" target="_self">SearchRequiredWithCursorPaginationDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1446"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1446</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                            <code><a href="../classes/UserPlayloadResponse.html" target="_self" >UserPlayloadResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>searchWithPaginationDto</td>
                                            <td>
                                                            <code><a href="../classes/SearchRequiredWithCursorPaginationDto.html" target="_self" >SearchRequiredWithCursorPaginationDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;PaginationCursorMessagesSearchResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="switchUserGroup"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>switchUserGroup</b></span>
                        <a href="#switchUserGroup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>switchUserGroup(oldChatGroupId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, participantId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, newChatGroupId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1154"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1154</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>oldChatGroupId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>participantId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>newChatGroupId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;GroupChatResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateGroupChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateGroupChat</b></span>
                        <a href="#updateGroupChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateGroupChat(updateGroupChatDto: <a href="../classes/UpdateGroupChatDto.html" target="_self">UpdateGroupChatDto</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="227"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:227</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>updateGroupChatDto</td>
                                            <td>
                                                            <code><a href="../classes/UpdateGroupChatDto.html" target="_self" >UpdateGroupChatDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Promise&lt;GroupChatResponse&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userGroupChatId"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>userGroupChatId</b></span>
                        <a href="#userGroupChatId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>userGroupChatId(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1315"
                                    class="link-to-prism">src/modules/group-chats/group-chats.service.ts:1315</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt; | null&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@nestjs/common&#x27;;
import { GroupChat, Prisma } from &#x27;@prisma/client&#x27;;
import { plainToInstance } from &#x27;class-transformer&#x27;;
import { IdDto } from &#x27;src/common/dto/id.dto&#x27;;
import { SearchWithCursorPaginationDto } from &#x27;src/common/dto/search-with-cursor-pagination.dto&#x27;;
import { SearchWithPaginationDto } from &#x27;src/common/dto/search-with-pagination.dto&#x27;;
import { LanguageErrorEnum } from &#x27;src/common/enums/language-error.enum&#x27;;
import { MultiLanguageException } from &#x27;src/common/exception-filters/multi-language.exception&#x27;;
import { PaginationPatientsMessages, PaginationShowFlatGroupChatResponse } from &#x27;src/common/responses/Paggination-data.response&#x27;;
import { NameAndIdResponse } from &#x27;src/common/responses/id-and-name.response&#x27;;
import {
  PaginationCursorMessages,
  PaginationCursorPatientsMessages,
  PaginationCursorPatientNameOnlyResponse,
  PaginationCursorMessagesSearchResponse,
} from &#x27;src/common/responses/paggination-cursor.response&#x27;;
import { CommonService } from &#x27;src/common/services/common.service&#x27;;
import { EnvironmentService } from &#x27;src/common/services/environment.service&#x27;;
import { PrismaService } from &#x27;src/common/services/prisma.service&#x27;;
import { RedisService } from &#x27;src/common/services/redis.service&#x27;;
import { AvailabilitiesService } from &#x27;src/modules/availabilities/availabilities.service&#x27;;
import { CreateGroupChatDto } from &#x27;src/modules/group-chats/dto/create-group-chat.dto&#x27;;
import { UpdateGroupChatParticipantsDto } from &#x27;src/modules/group-chats/dto/update-group-chat-participants.dto&#x27;;
import { UpdateGroupChatDto } from &#x27;src/modules/group-chats/dto/update-group-chat.dto&#x27;;
import { FetchAuthedPatientChatDataResponse } from &#x27;src/modules/group-chats/response/fetch-authed-patient-chat-data.response&#x27;;
import { GroupChatByIdResponse } from &#x27;src/modules/group-chats/response/group-chat-by-id.response&#x27;;
import { GroupChatResponse } from &#x27;src/modules/group-chats/response/group-chat.response&#x27;;
import { ShowFlatGroupChatResponse } from &#x27;src/modules/group-chats/response/show-flat-group-chat.response&#x27;;
import { AvailabilityPerDayDto } from &#x27;src/modules/availabilities/dto/add-availability-per-day&#x27;;
import { HealthSpecialistService } from &#x27;src/modules/health-specialists/health-specialist.service&#x27;;
import { MessageResponse } from &#x27;src/modules/messages/response/message.response&#x27;;
import { PatientService } from &#x27;src/modules/patients/patient.service&#x27;;
import { UserPlayloadResponse } from &#x27;src/modules/patients/response/user-playload.response&#x27;;
import { PrivateChatsService } from &#x27;src/modules/private-chats/private-chats.service&#x27;;
import { UsersService } from &#x27;src/modules/users/users.service&#x27;;
import { BlockedUsersService } from &#x27;../blocked-users/blocked-users.service&#x27;;
import { BlockUserTypeEnum } from &#x27;src/common/enums/block-user-type.enum&#x27;;
import { HealthFacilityService } from &#x27;src/modules/facilities/health-facility.service&#x27;;
import { CursorDirectionEnum } from &#x27;src/common/enums/cursor-direction.enum&#x27;;
import { SearchRequiredWithCursorPaginationDto } from &#x27;src/common/dto/search-pagination-required.dto&#x27;;
import { MessageSearchResponse } from &#x27;../messages/response/message-search.response&#x27;;

@Injectable()
export class GroupChatsService {
  constructor(
    private prismaService: PrismaService,
    private patientService: PatientService,
    private healthSpecialistService: HealthSpecialistService,
    private usersService: UsersService,
    private environmentService: EnvironmentService,
    private redisService: RedisService,
    private commonService: CommonService,
    private privateChatsService: PrivateChatsService,
    private availabilitiesService: AvailabilitiesService,
    private blockedUsersService: BlockedUsersService,
    private healthFacilityService: HealthFacilityService,
  ) {}

  //prisma cant query this and find the unnseen messages
  async fetchGroupChats(user: UserPlayloadResponse, searchWithPaginationDto: SearchWithPaginationDto): Promise&lt;PaginationShowFlatGroupChatResponse&gt; {
    const { currentPage, sizePerPage, search } &#x3D; searchWithPaginationDto;
    const searchGroupName &#x3D; &#x60;${search}%&#x60;; //this is a trick to pass the search value

    const sqlSearch &#x3D; Prisma.sql&#x60;${search ? Prisma.sql&#x60; AND groupChat.name LIKE ${searchGroupName} &#x60; : Prisma.empty}&#x60;;
    // const isFiltringSearch &#x3D; Prisma.sql&#x60;${
    //   search
    //     ? Prisma.sql&#x60;AND (MATCH (personalinformation.firstName , personalinformation.lastName) AGAINST (${fullTextSearch} IN BOOLEAN MODE)
    //   OR qid LIKE ${searchQID}) &#x60;
    //     : Prisma.empty
    // }&#x60;;

    const incrementedPage &#x3D; currentPage - 1;
    const userId &#x3D; user.id;
    const healthSpecialistId &#x3D; user.healthSpecialistId;
    const healthSpecialistFilter &#x3D; Prisma.sql&#x60;${user.isHS ? Prisma.sql&#x60;AND ${healthSpecialistId}&#x3D;groupChat.healthSpecialistId&#x60; : Prisma.empty}&#x60;;

    //this will find group chats with the last msg and the number of unseen message
    const groupChats: any[] &#x3D; await this.prismaService.$queryRaw&#x60;
    SELECT groupChat.id AS id,groupChat.name AS name,groupChat.createdAt AS createdAt,
    messagesList.id AS messageId,messagesList.message As messageContent,messagesList.createdAt AS messageCreatedAt,
    usersList.id AS healthSpecialistUserId,
    personalInfomationsList.firstName AS firstName,personalInfomationsList.lastName AS lastName,
    files.id AS fileId,
    (SELECT messagesonusersonchatgroups.updatedAt From messagesOnUsersOnChatgroups
    WHERE groupChat.id&#x3D;messagesOnUsersOnChatgroups.groupChatId AND ${userId}&#x3D;messagesOnUsersOnChatgroups.participantId) AS lastSeenMessageUpdatedAt  

    ,(SELECT COUNT(CASE WHEN lastSeenMessageUpdatedAt IS NOT NULL then 1 ELSE NULL END) from message WHERE message.createdAt&gt;lastSeenMessageUpdatedAt AND message.groupChatId&#x3D;groupChat.id) AS unseenMessagesNumber

    -- we will use this only when the user(hs) has no row in table messagesOnUsersOnChatgroups related to the groupChat so we have to fetch all messages as unseen messages
    ,(SELECT COUNT(CASE WHEN lastSeenMessageUpdatedAt IS NULL then 1 ELSE NULL END) from message WHERE message.groupChatId&#x3D;groupChat.id) AS messagesNumber

    FROM groupchat groupChat
    LEFT JOIN message messagesList ON groupChat.id &#x3D; messagesList.groupChatId 
    LEFT JOIN files files ON files.groupChatMessageId&#x3D;messagesList.id

    LEFT JOIN healthspecialist healthSpecialists ON healthSpecialists.id &#x3D; groupChat.healthSpecialistId
    LEFT JOIN admin admins ON healthSpecialists.adminId &#x3D; admins.userId
    LEFT JOIN user usersList ON usersList.id &#x3D; ${userId}
    LEFT JOIN personalinformation personalInfomationsList ON usersList.id &#x3D; personalInfomationsList.userId

    WHERE
     true  ${healthSpecialistFilter} ${sqlSearch} AND
    -- to get the group list only with the last sent message
    (messagesList.createdAt &#x3D; (
        SELECT MAX(createdAt)
        FROM message
        WHERE groupChatId &#x3D; groupChat.id 
    )  
    -- to fetch groups with no messages yet
    OR messagesList.id IS NULL )

    ORDER BY groupChat.createdAt DESC

    LIMIT ${sizePerPage} OFFSET ${incrementedPage * sizePerPage}&#x60;;

    const groupChatIds: bigint[] &#x3D; groupChats.map((groupChat) &#x3D;&gt; groupChat.id);

    const filtringGroupChats &#x3D; Prisma.sql&#x60;${groupChatIds?.length &gt; 0 ? Prisma.sql&#x60;AND (usersList.groupChatId IN (${Prisma.join(groupChatIds)}))&#x60; : Prisma.empty}&#x60;;

    //querying the participants of the found grp chats
    const participantsListByGroupChatId: any[] &#x3D; await this.prismaService.$queryRaw&#x60;
    SELECT groupChat.id AS id,groupChat.name AS name,groupChat.createdAt AS createdAt,
    usersList.id as userId,
    personalInfomationsList.firstName AS firstName,personalInfomationsList.lastName AS lastName

    FROM groupchat groupChat 

    INNER JOIN user usersList ON usersList.groupChatId &#x3D; groupChat.id  ${filtringGroupChats}
    INNER JOIN personalinformation personalInfomationsList ON usersList.id &#x3D; personalInfomationsList.userId
    ;&#x60;;

    //regrping found participants by the group chat id
    const grouped &#x3D; participantsListByGroupChatId.reduce(function (r, a) {
      r[a.id] &#x3D; r[a.id] || [];
      r[a.id].push(a);
      return r;
    }, Object.create(null));

    //appending the found participants to their s group chats
    const groupChatsWithParticipants &#x3D; groupChats.map((group) &#x3D;&gt; {
      const participants &#x3D; grouped[group.id] || [];
      return { ...group, participants, lastMessage: { id: group.messageId, message: group.messageContent, createdAt: group.messageCreatedAt } };
    });

    //total grp chats
    const groupChatsCount &#x3D; await this.prismaService.$queryRaw&#x60;
        SELECT COUNT(*) as totalCount
        FROM groupchat groupChat 
        WHERE true  ${healthSpecialistFilter} ${sqlSearch}&#x60;;

    const totalItems &#x3D; groupChatsCount[0].totalCount;

    //hidding unneccessairy data
    const serializedPatients &#x3D; plainToInstance(ShowFlatGroupChatResponse, groupChatsWithParticipants, {
      excludeExtraneousValues: true,
      enableImplicitConversion: true,
    });

    return { data: serializedPatients, totalItems: totalItems };
  }

  async createGroupChat(createGroupChatDto: CreateGroupChatDto): Promise&lt;NameAndIdResponse&gt; {
    const { healthSpecialistId, name, participantIds } &#x3D; createGroupChatDto;

    await this.patientService.isUsersPatients(participantIds);

    const healthSpecialistIdByUserId &#x3D; await this.healthSpecialistService.healthSpecialistIdByUserId(Number(healthSpecialistId));

    await this.isGroupChatNameNotExists(name, null, Number(healthSpecialistIdByUserId));

    return await this.prismaService.groupChat.create({
      data: {
        name,
        healthSpecialistId: healthSpecialistIdByUserId,
        participants: {
          connect: participantIds,
        },
      },
      select: {
        id: true,
        name: true,
      },
    });
  }

  async fetchGroupChat(id: number): Promise&lt;GroupChatByIdResponse&gt; {
    const groupChat &#x3D; await this.prismaService.groupChat.findUnique({
      where: { id },
      select: {
        id: true,
        name: true,
        participants: {
          select: {
            id: true,
            personalInformation: {
              select: {
                firstName: true,
                lastName: true,
              },
            },
          },
        },
        healthSpecialist: {
          select: {
            admin: {
              select: {
                user: {
                  select: {
                    id: true,
                    personalInformation: {
                      select: { firstName: true, lastName: true },
                    },
                  },
                },
              },
            },
          },
        },
        createdAt: true,
      },
    });

    if (!groupChat) throw new MultiLanguageException(LanguageErrorEnum.GROUP_CHAT_NOT_FOUND);
    return groupChat;
  }

  async updateGroupChat(updateGroupChatDto: UpdateGroupChatDto, id: number): Promise&lt;GroupChatResponse&gt; {
    const { name, healthSpecialistId, participantIds } &#x3D; updateGroupChatDto;
    let healthSpecialistIdByUserId: bigint &#x3D; null;

    const groupChatOldData &#x3D; await this.isGroupChatByIdExists(id);

    if (participantIds?.length &gt; 0) await this.patientService.isUsersPatients(participantIds);

    if (healthSpecialistId) {
      healthSpecialistIdByUserId &#x3D; await this.healthSpecialistService.healthSpecialistIdByUserId(Number(healthSpecialistId));
      //if new healthspecialist provided we should check with new id
      if (name) await this.isGroupChatNameNotExists(name, id, Number(healthSpecialistIdByUserId));
    } else {
      //if no healthspecialist provided we should check the name existence with the old hs id

      if (name) await this.isGroupChatNameNotExists(name, id, Number(groupChatOldData.healthSpecialistId));
    }

    const groupChat &#x3D; await this.prismaService.groupChat.update({
      where: { id },
      data: {
        name,
        healthSpecialistId: healthSpecialistIdByUserId,
        participants: {
          set: participantIds,
        },
      },

      select: {
        id: true,
        name: true,
        createdAt: true,
      },
    });

    return groupChat;
  }

  async deleteGroupChat(id: number): Promise&lt;GroupChatResponse&gt; {
    await this.isGroupChatByIdExists(id);

    const groupChat &#x3D; await this.prismaService.groupChat.delete({
      where: { id },
      select: {
        id: true,
        name: true,
        createdAt: true,
      },
    });

    return groupChat;
  }

  async quitGroupChat(user: UserPlayloadResponse): Promise&lt;boolean&gt; {
    await this.prismaService.user.update({
      where: {
        id: user.id,
      },
      data: {
        groupChatId: null,
      },
    });

    return true;
  }

  async fetchAuthedChatData(user: UserPlayloadResponse): Promise&lt;FetchAuthedPatientChatDataResponse&gt; {
    const { dateOfBirth } &#x3D; await this.usersService.getUserPersonalInformation(user.id);
    let patientGroupChat &#x3D; null;
    let availabilities: AvailabilityPerDayDto[] &#x3D; null;

    const patientAge &#x3D; this.commonService.dateOfBirthToAge(dateOfBirth);
    const isCommunityChatPermission &#x3D; patientAge &gt;&#x3D; 18;
    const isChatBotPermission &#x3D; true;

    const authedUser &#x3D; await this.prismaService.user.findUnique({
      where: { id: user.id },
      select: { groupChatId: true },
    });

    if (authedUser?.groupChatId)
      patientGroupChat &#x3D; await this.prismaService.groupChat.findUnique({
        where: { id: authedUser.groupChatId },
        select: { id: true, name: true },
      });

    const patientPrivateChat &#x3D; await this.privateChatsService.privateChatByUserId(user.id);
    if (patientPrivateChat) availabilities &#x3D; await this.availabilitiesService.getCurrentDayAvailability(Number(patientPrivateChat.healthSpecialist.id));

    const privateChat &#x3D; patientPrivateChat ? { ...patientPrivateChat, availabilities } : null;

    const { isBlocked, isBlockedDate, isBlockedReason } &#x3D; await this.blockedUsersService.isUserBlocked(user.id, null, BlockUserTypeEnum.GLOBAL_BLOCK_COMMUNITY_CHAT);
    return {
      communityChat: { isCommunityChatPermission, blocked: { isBlocked, isBlockedDate, isBlockedReason } },
      botChat: { isChatBotPermission },
      groupChat: patientGroupChat,
      privateChat,
    };
  }

  async fetchPatientGroupChat(user: UserPlayloadResponse, searchWithCursorPaginationDto: SearchWithCursorPaginationDto): Promise&lt;PaginationCursorPatientsMessages&gt; {
    const { oldCursorId, sizePerPage, search, direction, isSearchingMessage } &#x3D; searchWithCursorPaginationDto;
    let finalMessages &#x3D; [];

    const fullTextSearch &#x3D; search ? this.commonService.addLeadingPlusAndTrailingWildcard(search) : undefined;
    const finalDirection &#x3D; direction &#x3D;&#x3D;&#x3D; CursorDirectionEnum.AFTER ? { after: oldCursorId ? &#x60;${oldCursorId}&#x60; : null } : { before: oldCursorId ? &#x60;${oldCursorId}&#x60; : null };

    const patientGrouoChat &#x3D; await this.fetchPatientGroupChatNameAndId(user.id);

    const groupChatId &#x3D; patientGrouoChat.id;

    const healthSpecialistUserId &#x3D; await this.groupChatHealthSpecialistUserId(Number(groupChatId));

    const [messages, messagePagination] &#x3D; await this.prismaService
      .extendPagination()
      .message.paginate({
        where: { groupChatId: groupChatId, message: { search: fullTextSearch } },

        select: {
          id: true,
          message: true,
          createdAt: true,
          sender: {
            select: {
              id: true,
              personalInformation: {
                select: {
                  firstName: true,
                  lastName: true,
                },
              },
            },
          },
          reply: {
            select: {
              id: true,
              sender: {
                select: {
                  id: true,
                  personalInformation: { select: { firstName: true, lastName: true } },
                },
              },
              file: {
                select: {
                  name: true,
                  blobName: true,
                  extension: true,
                  size: true,
                },
              },
              mentionedUsers: {
                select: {
                  id: true,
                  personalInformation: {
                    select: { id: true, firstName: true, lastName: true },
                  },
                },
              },
              message: true,
              createdAt: true,
            },
          },
          file: {
            select: {
              name: true,
              blobName: true,
              extension: true,
              size: true,
            },
          },
          mentionedUsers: {
            select: {
              id: true,
              personalInformation: {
                select: { id: true, firstName: true, lastName: true },
              },
            },
          },
        },
        orderBy: {
          id: &#x27;desc&#x27;,
        },
      })
      .withCursor({
        limit: sizePerPage,
        ...finalDirection,
        getCursor({ id }) {
          return id.toString();
        },
      });
    console.log(isSearchingMessage);
    if (isSearchingMessage &amp;&amp; oldCursorId) {
      const message &#x3D; await this.prismaService.message.findFirst({
        select: {
          id: true,
          message: true,
          file: {
            select: {
              name: true,
              blobName: true,
              extension: true,
              size: true,
            },
          },
          createdAt: true,
          sender: {
            select: {
              id: true,
              personalInformation: {
                select: {
                  firstName: true,
                  lastName: true,
                },
              },
            },
          },
          reply: {
            select: {
              id: true,
              file: {
                select: {
                  blobName: true,
                  extension: true,
                  name: true,
                },
              },
              sender: {
                select: {
                  id: true,
                  personalInformation: { select: { firstName: true, lastName: true } },
                },
              },
              mentionedUsers: {
                select: {
                  id: true,
                  personalInformation: {
                    select: { id: true, firstName: true, lastName: true },
                  },
                },
              },
              message: true,
              createdAt: true,
            },
          },
          mentionedUsers: {
            select: {
              id: true,
              personalInformation: {
                select: { id: true, firstName: true, lastName: true },
              },
            },
          },
        },
        where: {
          id: Number(oldCursorId),
        },
      });
      const [messagesBefore] &#x3D; await this.prismaService
        .extendPagination()
        .message.paginate({
          where: { groupChatId: groupChatId, message: { search: fullTextSearch } },
          select: {
            id: true,
            message: true,
            file: {
              select: {
                name: true,
                blobName: true,
                extension: true,
                size: true,
              },
            },
            createdAt: true,
            sender: {
              select: {
                id: true,
                personalInformation: {
                  select: {
                    firstName: true,
                    lastName: true,
                  },
                },
              },
            },
            reply: {
              select: {
                id: true,
                file: {
                  select: {
                    blobName: true,
                    extension: true,
                    name: true,
                  },
                },
                sender: {
                  select: {
                    id: true,
                    personalInformation: { select: { firstName: true, lastName: true } },
                  },
                },
                mentionedUsers: {
                  select: {
                    id: true,
                    personalInformation: {
                      select: { id: true, firstName: true, lastName: true },
                    },
                  },
                },
                message: true,
                createdAt: true,
              },
            },
            mentionedUsers: {
              select: {
                id: true,
                personalInformation: {
                  select: { id: true, firstName: true, lastName: true },
                },
              },
            },
          },
          orderBy: {
            createdAt: &#x27;desc&#x27;,
          },
        })
        .withCursor({
          limit: sizePerPage,
          before: oldCursorId ? &#x60;${oldCursorId}&#x60; : null,

          getCursor({ id }) {
            return id.toString();
          },
        });
      finalMessages &#x3D; [...messagesBefore, message, ...messages];
    } else {
      finalMessages &#x3D; messages;
    }
    //adding isSender field to the response as boolean &#x3D;&gt;isSender:true if the authed user is the sender
    const messagesWithIsSenderCheck &#x3D; finalMessages.map((message: MessageResponse) &#x3D;&gt; {
      const senderId &#x3D; Number(message.sender.id);

      const isSender &#x3D; senderId &#x3D;&#x3D;&#x3D; user.id;
      const isHealthSpecialist &#x3D; healthSpecialistUserId &#x3D;&#x3D;&#x3D; senderId;
      return { ...message, isSender, isHealthSpecialist };
    });
    if (!oldCursorId) this.messageViewedGroupChat(Number(groupChatId), user.id);

    const { hasNextPage, hasPreviousPage, endCursor, startCursor } &#x3D; messagePagination;

    return { data: messagesWithIsSenderCheck, hasNextPage, hasPreviousPage, endCursor: Number(endCursor), startCursor: Number(startCursor) };
  }

  async fetchGroupChatParticipants(searchWithCursorPaginationDto: SearchWithCursorPaginationDto, id: number): Promise&lt;PaginationCursorPatientNameOnlyResponse&gt; {
    const { sizePerPage, oldCursorId, search } &#x3D; searchWithCursorPaginationDto;
    const fullTextSearch &#x3D; search ? this.commonService.addLeadingPlusAndTrailingWildcard(search) : undefined;

    await this.isGroupChatByIdExists(id);

    const [messages, messagePagination] &#x3D; await this.prismaService
      .extendPagination()
      .user.paginate({
        where: {
          groupChatId: id,
          personalInformation: {
            firstName: {
              search: fullTextSearch,
            },
            lastName: {
              search: fullTextSearch,
            },
          },
        },
        select: {
          id: true,
          personalInformation: {
            select: { firstName: true, lastName: true },
          },
        },
        orderBy: {
          createdAt: &#x27;desc&#x27;,
        },
      })
      .withCursor({
        limit: sizePerPage,
        after: oldCursorId ? &#x60;${oldCursorId}&#x60; : null,
        getCursor({ id }) {
          return id.toString();
        },
      });

    const { hasNextPage, hasPreviousPage, endCursor, startCursor } &#x3D; messagePagination;

    return { data: messages, hasNextPage, hasPreviousPage, endCursor: Number(endCursor), startCursor: Number(startCursor) };
  }

  async fetchGroupChatMessages(user: UserPlayloadResponse, searchWithCursorPaginationDto: SearchWithCursorPaginationDto, id: number): Promise&lt;PaginationCursorMessages&gt; {
    const { sizePerPage, oldCursorId, search, isSearchingMessage, direction } &#x3D; searchWithCursorPaginationDto;
    const fullTextSearch &#x3D; search ? this.commonService.addLeadingPlusAndTrailingWildcard(search) : undefined;
    let finalMessages &#x3D; [];

    await this.isGroupChatByIdExists(id);
    const finalDirection &#x3D; direction &#x3D;&#x3D;&#x3D; CursorDirectionEnum.AFTER ? { after: oldCursorId ? &#x60;${oldCursorId}&#x60; : null } : { before: oldCursorId ? &#x60;${oldCursorId}&#x60; : null };
    const [messages, messagePagination] &#x3D; await this.prismaService
      .extendPagination()
      .message.paginate({
        where: { groupChatId: id, message: { search: fullTextSearch } },
        select: {
          id: true,
          message: true,
          file: {
            select: {
              name: true,
              blobName: true,
              extension: true,
              size: true,
            },
          },
          createdAt: true,
          sender: {
            select: {
              id: true,
              personalInformation: {
                select: {
                  firstName: true,
                  lastName: true,
                },
              },
            },
          },
          reply: {
            select: {
              id: true,
              file: {
                select: {
                  blobName: true,
                  extension: true,
                  name: true,
                },
              },
              sender: {
                select: {
                  id: true,
                  personalInformation: { select: { firstName: true, lastName: true } },
                },
              },
              mentionedUsers: {
                select: {
                  id: true,
                  personalInformation: {
                    select: { id: true, firstName: true, lastName: true },
                  },
                },
              },
              message: true,
              createdAt: true,
            },
          },
          mentionedUsers: {
            select: {
              id: true,
              personalInformation: {
                select: { id: true, firstName: true, lastName: true },
              },
            },
          },
        },
        orderBy: {
          createdAt: &#x27;desc&#x27;,
        },
      })
      .withCursor({
        limit: sizePerPage,
        ...finalDirection,
        getCursor({ id }) {
          return id.toString();
        },
        // parseCursor(cursor) {
        //   return {
        //     id: Number(cursor),
        //   };
        // },
      });
    if (isSearchingMessage) {
      const message &#x3D; await this.prismaService.message.findFirst({
        select: {
          id: true,
          message: true,
          file: {
            select: {
              name: true,
              blobName: true,
              extension: true,
              size: true,
            },
          },
          createdAt: true,
          sender: {
            select: {
              id: true,
              personalInformation: {
                select: {
                  firstName: true,
                  lastName: true,
                },
              },
            },
          },
          reply: {
            select: {
              id: true,
              file: {
                select: {
                  blobName: true,
                  extension: true,
                  name: true,
                },
              },
              sender: {
                select: {
                  id: true,
                  personalInformation: { select: { firstName: true, lastName: true } },
                },
              },
              mentionedUsers: {
                select: {
                  id: true,
                  personalInformation: {
                    select: { id: true, firstName: true, lastName: true },
                  },
                },
              },
              message: true,
              createdAt: true,
            },
          },
          mentionedUsers: {
            select: {
              id: true,
              personalInformation: {
                select: { id: true, firstName: true, lastName: true },
              },
            },
          },
        },
        where: {
          id: Number(oldCursorId),
        },
      });
      const [messagesBefore] &#x3D; await this.prismaService
        .extendPagination()
        .message.paginate({
          where: { groupChatId: id, message: { search: fullTextSearch } },
          select: {
            id: true,
            message: true,
            file: {
              select: {
                name: true,
                blobName: true,
                extension: true,
                size: true,
              },
            },
            createdAt: true,
            sender: {
              select: {
                id: true,
                personalInformation: {
                  select: {
                    firstName: true,
                    lastName: true,
                  },
                },
              },
            },
            reply: {
              select: {
                id: true,
                file: {
                  select: {
                    blobName: true,
                    extension: true,
                    name: true,
                  },
                },
                sender: {
                  select: {
                    id: true,
                    personalInformation: { select: { firstName: true, lastName: true } },
                  },
                },
                mentionedUsers: {
                  select: {
                    id: true,
                    personalInformation: {
                      select: { id: true, firstName: true, lastName: true },
                    },
                  },
                },
                message: true,
                createdAt: true,
              },
            },
            mentionedUsers: {
              select: {
                id: true,
                personalInformation: {
                  select: { id: true, firstName: true, lastName: true },
                },
              },
            },
          },
          orderBy: {
            createdAt: &#x27;desc&#x27;,
          },
        })
        .withCursor({
          limit: sizePerPage,
          before: oldCursorId ? &#x60;${oldCursorId}&#x60; : null,

          getCursor({ id }) {
            return id.toString();
          },
        });
      finalMessages &#x3D; [...messagesBefore, message, ...messages];
    } else {
      finalMessages &#x3D; messages;
    }
    const { hasNextPage, hasPreviousPage, endCursor, startCursor } &#x3D; messagePagination;
    console.log(messagePagination);
    const lastMessage &#x3D; messages[0];
    //we want to register seen only when we fetch first time without cursor
    if (!oldCursorId) {
      if (lastMessage) await this.messageViewedGroupChat(id, user.id);
    }

    return { data: finalMessages, hasNextPage, hasPreviousPage, endCursor: Number(endCursor), startCursor: Number(startCursor) };
  }

  async addParticipantsToGroupChat(updateGroupChatParticipantsDto: UpdateGroupChatParticipantsDto, id: number): Promise&lt;GroupChatResponse&gt; {
    const { participantIds } &#x3D; updateGroupChatParticipantsDto;

    if (participantIds?.length &gt; 0) await this.patientService.isUsersPatients(participantIds);

    await this.isParticipantsNotExists(id, participantIds);

    const groupChat &#x3D; await this.prismaService.groupChat.update({
      where: { id },
      data: {
        participants: {
          connect: participantIds,
        },
      },

      select: {
        id: true,
        name: true,
        createdAt: true,
      },
    });

    return groupChat;
  }

  async fetchMyGroupChatMessagesOffsetPagination(user: UserPlayloadResponse, searchWithPaginationDto: SearchWithPaginationDto): Promise&lt;PaginationPatientsMessages&gt; {
    const { sizePerPage, search, currentPage } &#x3D; searchWithPaginationDto;

    const fullTextSearch &#x3D; search ? this.commonService.addLeadingPlusAndTrailingWildcard(search) : undefined;

    const patientGrouoChat &#x3D; await this.fetchPatientGroupChatNameAndId(user.id);

    const groupChatId &#x3D; patientGrouoChat.id;

    const healthSpecialistUserId &#x3D; await this.groupChatHealthSpecialistUserId(Number(groupChatId));

    const [messages, messagePagination] &#x3D; await this.prismaService
      .extendPagination()
      .message.paginate({
        where: { groupChatId: groupChatId, message: { search: fullTextSearch } },

        select: {
          id: true,
          message: true,
          createdAt: true,
          sender: {
            select: {
              id: true,
              personalInformation: {
                select: {
                  firstName: true,
                  lastName: true,
                },
              },
            },
          },
          reply: {
            select: {
              id: true,
              sender: {
                select: {
                  id: true,
                  personalInformation: { select: { firstName: true, lastName: true } },
                },
              },
              file: {
                select: {
                  name: true,
                  blobName: true,
                  extension: true,
                  size: true,
                },
              },
              mentionedUsers: {
                select: {
                  id: true,
                  personalInformation: {
                    select: { id: true, firstName: true, lastName: true },
                  },
                },
              },
              message: true,
              createdAt: true,
            },
          },
          file: {
            select: {
              name: true,
              blobName: true,
              extension: true,
              size: true,
            },
          },
          mentionedUsers: {
            select: {
              id: true,
              personalInformation: {
                select: { id: true, firstName: true, lastName: true },
              },
            },
          },
        },
        orderBy: {
          createdAt: &#x27;desc&#x27;,
        },
      })
      .withPages({
        includePageCount: true,
        page: currentPage,
        limit: sizePerPage,
      });

    //adding isSender field to the response as boolean &#x3D;&gt;isSender:true if the authed user is the sender
    const messagesWithIsSenderCheck &#x3D; messages.map((message: MessageResponse) &#x3D;&gt; {
      const senderId &#x3D; Number(message.sender.id);

      const isSender &#x3D; senderId &#x3D;&#x3D;&#x3D; user.id;
      const isHealthSpecialist &#x3D; healthSpecialistUserId &#x3D;&#x3D;&#x3D; senderId;
      return { ...message, isSender, isHealthSpecialist };
    });

    const returnedGroupMessages &#x3D; { data: messagesWithIsSenderCheck, totalItems: messagePagination.totalCount };
    return returnedGroupMessages;
  }

  async fetchGroupChatMessagesOffsetPagination(searchWithPaginationDto: SearchWithPaginationDto, id: number): Promise&lt;PaginationPatientsMessages&gt; {
    const { sizePerPage, search, currentPage } &#x3D; searchWithPaginationDto;

    const fullTextSearch &#x3D; search ? this.commonService.addLeadingPlusAndTrailingWildcard(search) : undefined;

    await this.isGroupChatByIdExists(id);

    const [messages, messagePagination] &#x3D; await this.prismaService
      .extendPagination()
      .message.paginate({
        where: { groupChatId: id, message: { search: fullTextSearch } },
        select: {
          id: true,
          message: true,
          file: {
            select: {
              name: true,
              blobName: true,
              extension: true,
              size: true,
            },
          },
          createdAt: true,
          sender: {
            select: {
              id: true,
              personalInformation: {
                select: {
                  firstName: true,
                  lastName: true,
                },
              },
            },
          },
          reply: {
            select: {
              id: true,
              file: {
                select: {
                  blobName: true,
                  extension: true,
                  name: true,
                },
              },
              sender: {
                select: {
                  id: true,
                  personalInformation: { select: { firstName: true, lastName: true } },
                },
              },
              mentionedUsers: {
                select: {
                  id: true,
                  personalInformation: {
                    select: { id: true, firstName: true, lastName: true },
                  },
                },
              },
              message: true,
              createdAt: true,
            },
          },
          mentionedUsers: {
            select: {
              id: true,
              personalInformation: {
                select: { id: true, firstName: true, lastName: true },
              },
            },
          },
        },
        orderBy: {
          createdAt: &#x27;desc&#x27;,
        },
      })
      .withPages({
        includePageCount: true,
        page: currentPage,
        limit: sizePerPage,
      });

    const returnedGroupMessages &#x3D; { data: messages, totalItems: messagePagination.totalCount };
    return returnedGroupMessages;
  }

  async connectHealthSpecialistToGroupChat(id: number, healthSpecialistId: number): Promise&lt;GroupChatResponse&gt; {
    await this.isGroupChatByIdExists(id);
    await this.isGroupChatHasNotHealthSpecialist(id);

    const healthSpecialistIdByUserId &#x3D; await this.healthSpecialistService.healthSpecialistIdByUserId(Number(healthSpecialistId));

    return await this.prismaService.groupChat.update({
      where: {
        id,
      },
      data: {
        healthSpecialistId: healthSpecialistIdByUserId,
      },
      select: {
        id: true,
        name: true,
        createdAt: true,
      },
    });
  }

  async diconnectHealthSpecialistFromGroupChat(id: number, healthSpecialistId: number): Promise&lt;GroupChatResponse&gt; {
    await this.isGroupChatByIdExists(id);
    const healthSpecialistIdByUserId &#x3D; await this.healthSpecialistService.healthSpecialistIdByUserId(healthSpecialistId);

    await this.isGroupChatHasHealthSpecialist(id, Number(healthSpecialistIdByUserId));

    return await this.prismaService.groupChat.update({
      where: {
        id,
      },
      data: {
        healthSpecialistId: null,
      },
      select: {
        id: true,
        name: true,
        createdAt: true,
      },
    });
  }

  async addParticipant(id: number, participantId: number): Promise&lt;GroupChatResponse&gt; {
    await this.isParticipantNotExists(id, participantId);

    return await this.prismaService.groupChat.update({
      where: { id },
      data: {
        participants: {
          connect: { id: participantId },
        },
      },
      select: {
        id: true,
        name: true,
        createdAt: true,
      },
    });
  }

  async deleteParticipant(id: number, participantId: number): Promise&lt;GroupChatResponse&gt; {
    await this.isParticipantExists(id, participantId);

    return await this.prismaService.groupChat.update({
      where: { id },
      data: {
        participants: {
          disconnect: { id: participantId },
        },
      },
      select: {
        id: true,
        name: true,
        createdAt: true,
      },
    });
  }

  async switchUserGroup(oldChatGroupId: number, participantId: number, newChatGroupId: number): Promise&lt;GroupChatResponse&gt; {
    await this.isParticipantExists(oldChatGroupId, participantId);
    await this.isParticipantNotExists(newChatGroupId, participantId);

    const [, newGroupChat] &#x3D; await this.prismaService.$transaction([
      this.prismaService.groupChat.update({
        where: { id: oldChatGroupId },
        data: {
          participants: {
            disconnect: { id: participantId },
          },
        },
        select: {
          id: true,
        },
      }),

      this.prismaService.groupChat.update({
        where: { id: newChatGroupId },
        data: {
          participants: {
            connect: { id: participantId },
          },
        },
        select: {
          id: true,
          name: true,
          createdAt: true,
        },
      }),
    ]);

    return newGroupChat;
  }

  async isGroupChatByIdExists(id: number): Promise&lt;GroupChat&gt; {
    const groupChat &#x3D; await this.prismaService.groupChat.findUnique({
      where: { id },
    });

    if (!groupChat) throw new MultiLanguageException(LanguageErrorEnum.GROUP_CHAT_NOT_FOUND);
    return groupChat;
  }

  async isGroupChatNameNotExists(name: string, groupChatId: number, healthSpecialistId: number): Promise&lt;boolean&gt; {
    const facility &#x3D; await this.healthFacilityService.healthSpecialistFacility(healthSpecialistId);
    const groupChat &#x3D; await this.prismaService.groupChat.findFirst({
      where: {
        name,
        ...(groupChatId &amp;&amp; { id: { not: groupChatId } }),
        healthSpecialist: {
          facilityId: facility.id,
        },
      },
      select: {
        id: true,
      },
    });

    if (groupChat) throw new MultiLanguageException(LanguageErrorEnum.GROUP_CHAT_NAME_EXISTS);
    return true;
  }

  async isGroupChatsExists(ids: IdDto[]): Promise&lt;boolean&gt; {
    const groupChatsIds &#x3D; ids.map((groupChat) &#x3D;&gt; groupChat.id);

    const groupChats &#x3D; await this.prismaService.groupChat.aggregate({
      where: { id: { in: groupChatsIds } },
      _count: {
        _all: true,
      },
    });

    if (ids.length &gt; groupChats._count._all) throw new MultiLanguageException(LanguageErrorEnum.GROUP_CHAT_NOT_FOUND);
    return true;
  }

  async isParticipantExists(groupChatId: number, participantId: number): Promise&lt;boolean&gt; {
    await this.isGroupChatByIdExists(groupChatId);
    await this.patientService.isUserPatient(participantId);

    const participant &#x3D; await this.prismaService.groupChat.findUnique({
      where: {
        id: groupChatId,
        participants: {
          some: {
            id: participantId,
          },
        },
      },
    });
    if (!participant) throw new MultiLanguageException(LanguageErrorEnum.PARTICIPANT_NOT_IN_GROUP_CHAT);
    return true;
  }

  async isParticipantNotExists(groupChatId: number, participantId: number): Promise&lt;boolean&gt; {
    await this.isGroupChatByIdExists(groupChatId);
    await this.patientService.isUserPatient(participantId);

    const participant &#x3D; await this.prismaService.groupChat.findUnique({
      where: {
        id: groupChatId,
        participants: {
          some: {
            id: participantId,
          },
        },
      },
    });
    if (participant) throw new MultiLanguageException(LanguageErrorEnum.PARTICIPANT_EXISTS_GROUP_CHAT);
    return true;
  }

  async isHealthSpecialistInGroup(groupChatId: number, healthSpecialistId: number): Promise&lt;boolean&gt; {
    await this.isGroupChatByIdExists(groupChatId);

    const healthSpecialistInGroup &#x3D; await this.prismaService.groupChat.findUnique({
      where: {
        id: groupChatId,
        healthSpecialistId,
      },
    });
    if (!healthSpecialistInGroup) throw new MultiLanguageException(LanguageErrorEnum.PARTICIPANT_NOT_IN_GROUP_CHAT);
    return true;
  }

  async isParticipantsNotExists(groupChatId: number, participantIds: IdDto[]): Promise&lt;boolean&gt; {
    const participantsIdsFlat &#x3D; participantIds.map((participant) &#x3D;&gt; participant.id);

    await this.isGroupChatByIdExists(groupChatId);

    const participants &#x3D; await this.prismaService.groupChat.aggregate({
      where: {
        id: groupChatId,
        participants: {
          some: {
            id: { in: participantsIdsFlat },
          },
        },
      },
      _count: {
        _all: true,
      },
    });

    if (participants._count._all &gt; 0) throw new MultiLanguageException(LanguageErrorEnum.PARTICIPANT_EXISTS_GROUP_CHAT);
    return true;
  }

  async isGroupChatHasNotHealthSpecialist(groupChatId: number): Promise&lt;boolean&gt; {
    const groupChatWithHealthSpecialist &#x3D; await this.prismaService.groupChat.findUnique({ where: { id: groupChatId, healthSpecialistId: null } });
    if (!groupChatWithHealthSpecialist) throw new MultiLanguageException(LanguageErrorEnum.GROUP_CHAT_HAS_HEALTH_SPECIALIST);
    return true;
  }

  async isGroupChatHasHealthSpecialist(groupChatId: number, healthSpecialistId: number): Promise&lt;boolean&gt; {
    const groupChatWithHealthSpecialist &#x3D; await this.prismaService.groupChat.findUnique({ where: { id: groupChatId, healthSpecialistId } });
    if (!groupChatWithHealthSpecialist) throw new MultiLanguageException(LanguageErrorEnum.HEALTH_SPECIALIST_NOT_IN_GROUP_CHAT);
    return true;
  }

  async userGroupChatId(userId: number): Promise&lt;bigint | null&gt; {
    const groupChat &#x3D; await this.prismaService.user.findUnique({
      where: {
        id: userId,
      },
      select: { groupChatId: true },
    });
    return groupChat.groupChatId;
  }

  //we create/update to messagesOnUsersOnChatGroups table to be able to identify last seen message by user in a group chat
  async messageViewedGroupChat(groupChatId: number, participantId: number): Promise&lt;boolean&gt; {
    const isViewed &#x3D; await this.prismaService.messagesOnUsersOnChatGroups.findFirst({
      where: {
        participantId,
        groupChatId,
      },
    });
    if (isViewed) {
      await this.prismaService.$transaction([
        this.prismaService.messagesOnUsersOnChatGroups.delete({
          where: {
            participantId_groupChatId: {
              participantId,
              groupChatId,
            },
          },
        }),

        this.prismaService.messagesOnUsersOnChatGroups.create({
          data: {
            participantId,
            groupChatId,
          },
        }),
      ]);
    } else {
      await this.prismaService.messagesOnUsersOnChatGroups.create({
        data: {
          participantId,
          groupChatId,
        },
      });
    }
    return true;
  }

  async groupChatHealthSpecialistUserId(groupChatId: number): Promise&lt;number&gt; {
    const patientProfileRedisKey &#x3D; &#x60;groupChatHealthSpecialistUserId?groupChatId${groupChatId}&#x60;;

    const cacheResults &#x3D; await this.redisService.getResponseKey(patientProfileRedisKey);
    if (cacheResults) return cacheResults;

    const healthSpecialistByGroupChat &#x3D; await this.prismaService.groupChat.findUnique({
      where: {
        id: groupChatId,
      },
      select: {
        healthSpecialist: {
          select: {
            admin: { select: { userId: true } },
          },
        },
      },
    });
    const userId &#x3D; Number(healthSpecialistByGroupChat.healthSpecialist.admin.userId);

    this.redisService.setResponseKey(patientProfileRedisKey, userId, this.environmentService.redisConfig.longTimeToLive);

    return userId;
  }

  async fetchPatientGroupChatNameAndId(userId: number): Promise&lt;NameAndIdResponse&gt; {
    const user &#x3D; await this.prismaService.user.findUnique({
      where: { id: userId },
      select: { groupChatId: true },
    });

    if (!user?.groupChatId) throw new MultiLanguageException(LanguageErrorEnum.WITHOUT_GROUP_CHAT);

    const patientGroupChat &#x3D; await this.prismaService.groupChat.findUnique({
      where: { id: user.groupChatId },
      select: { id: true, name: true },
    });

    return patientGroupChat;
  }

  async searchMessage(user: UserPlayloadResponse, searchWithPaginationDto: SearchWithCursorPaginationDto, id: number): Promise&lt;PaginationCursorMessagesSearchResponse&gt; {
    const { sizePerPage, search, oldCursorId } &#x3D; searchWithPaginationDto;
    console.log(user);
    const fullTextSearch &#x3D; this.commonService.addLeadingPlusAndTrailingWildcard(search);

    await this.isGroupChatByIdExists(id);

    const [messages, messagePagination] &#x3D; await this.prismaService
      .extendPagination()
      .message.paginate({
        where: { groupChatId: id, message: { search: fullTextSearch } },
        select: {
          id: true,
          message: true,
          createdAt: true,
          sender: {
            select: {
              id: true,
              personalInformation: {
                select: {
                  firstName: true,
                  lastName: true,
                },
              },
            },
          },
        },
        orderBy: {
          createdAt: &#x27;desc&#x27;,
        },
      })
      .withCursor({
        limit: sizePerPage,
        after: oldCursorId ? &#x60;${oldCursorId}&#x60; : null,
        getCursor({ id }) {
          return id.toString();
        },
      });
    //
    const { hasNextPage, hasPreviousPage, endCursor, startCursor } &#x3D; messagePagination;

    return { data: messages, hasNextPage, hasPreviousPage, endCursor: Number(endCursor), startCursor: Number(startCursor) };
  }
  async searchMessageMyGroupChat(
    user: UserPlayloadResponse,
    searchWithPaginationDto: SearchRequiredWithCursorPaginationDto,
  ): Promise&lt;PaginationCursorMessagesSearchResponse&gt; {
    const { sizePerPage, search, oldCursorId } &#x3D; searchWithPaginationDto;
    const fullTextSearch &#x3D; this.commonService.addLeadingPlusAndTrailingWildcard(search);

    const patientGrouoChat &#x3D; await this.fetchPatientGroupChatNameAndId(user.id);

    const groupChatId &#x3D; patientGrouoChat.id;

    const healthSpecialistUserId &#x3D; await this.groupChatHealthSpecialistUserId(Number(groupChatId));

    const [messages, messagePagination] &#x3D; await this.prismaService
      .extendPagination()
      .message.paginate({
        where: { groupChatId: groupChatId, message: { search: fullTextSearch } },
        select: {
          id: true,
          message: true,
          createdAt: true,
          sender: {
            select: {
              id: true,
              personalInformation: {
                select: {
                  firstName: true,
                  lastName: true,
                },
              },
            },
          },
        },
        orderBy: {
          createdAt: &#x27;desc&#x27;,
        },
      })
      .withCursor({
        limit: sizePerPage,
        after: oldCursorId ? &#x60;${oldCursorId}&#x60; : null,
        getCursor({ id }) {
          return id.toString();
        },
      });
    const messagesWithIsSenderCheck &#x3D; messages.map((message: MessageSearchResponse) &#x3D;&gt; {
      const senderId &#x3D; Number(message.sender.id);

      // const isSender &#x3D; senderId &#x3D;&#x3D;&#x3D; user.id;
      const isHealthSpecialist &#x3D; healthSpecialistUserId &#x3D;&#x3D;&#x3D; senderId;
      return { ...message, isHealthSpecialist };
    });

    const { hasNextPage, hasPreviousPage, endCursor, startCursor } &#x3D; messagePagination;

    return { data: messagesWithIsSenderCheck, hasNextPage, hasPreviousPage, endCursor: Number(endCursor), startCursor: Number(startCursor) };
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'GroupChatsService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
